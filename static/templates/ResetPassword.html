{% load static %}
<!DOCTYPE html>
<html lang="" dir="ltr">
  <head>
    <link rel="apple-touch-icon" sizes="180x180" href="{% static '/pictures/collegeplus2.png'%}"/>
    <link rel="shortcut icon" href="{% static '/pictures/collegeplus2.png'%}" />
    <link rel="address bar icon" href="{% static '/pictures/collegeplus2.png'%}"/>
    <link rel="shortcut icon" type="image/x-icon" href="{% static '/pictures/collegeplus2.png'%}" />
    <link rel="icon" type="image/png" sizes="32x32" href="{% static '/pictures/collegeplus2.png'%}"/>
    <link rel="icon" type="image/png" sizes="16x16" href="{% static '/pictures/collegeplus2.png'%}"/>
    <link rel="manifest" href="/site.webmanifest">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Poppins:wght@300;500&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Poppins:wght@300;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Permanent+Marker&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Bungee+Outline&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Russo+One&display=swap" rel="stylesheet">
    <link rel="icon" href="{% static '/pictures/collegeplus2.png'%}">
    <link rel="stylesheet" href="{% static '/styles/fakewebsite.css'%}">
    <link rel="stylesheet" href = "{% static 'styles/headerTemplate.css' %}">

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js">
    </script>
    <script data-ad-client="ca-pub-2209994521755973" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-2209994521755973",
              enable_page_level_ads: true
        });
    </script>
    <style>
      body{
        background-color: #efefef;
      }
      .form__label {
        font-family: 'Roboto', sans-serif;
        font-size: 1.2rem;
        margin-left: 2rem;
        margin-top: 0.7rem;
        display: block;
        transition: all 0.3s;
        transform: translateY(0rem);
      }

      .form__input {
        font-family: 'Roboto', sans-serif;
        color: #333;
        font-size: 1.2rem;
        margin: 0 auto;
        margin-top: 5%;
        padding: 1.5rem 2rem;
        border-radius: 0.8rem;
        background-color: #cdcdcd;
        border: none;
        width: 50%;
        display: block;
        border-bottom: 0.3rem solid transparent;
        transition: all 0.3s;
      }

      .form__input:placeholder-shown + .form__label {
        opacity: 0;
        visibility: hidden;
        -webkit-transform: translateY(-4rem);
        transform: translateY(-4rem);
      }

      #dropbtnsub{
  
        margin-top: 5%;
        border-radius: 25px;
        background-color: #343434;
        color: white;
        padding: 2vw;
        padding-left: 35px;
        padding-right: 35px;
        font-size: 12pt;
        cursor: pointer;
        /* border: 5px outset tomato; */
        opacity: 1;
        border: none;
        -webkit-appearance: none;
        font-family: 'Poppins', sans-serif;

      }
    </style>
    <script>
      function getCookie(cname) {
       var name = cname + "=";
       var decodedCookie = decodeURIComponent(document.cookie);
       var ca = decodedCookie.split(';');
       for(var i = 0; i <ca.length; i++) {
         var c = ca[i];
         while (c.charAt(0) == ' ') {
           c = c.substring(1);
         }
         if (c.indexOf(name) == 0) {
           return c.substring(name.length, c.length);
         }
       }
       return "";
     }
     function checkCookie() {
          var user=getCookie("username");
          if (user != "") {
            $("#setter").text(user);
            $("#set1").val(user);
          } else {
            $("#set1").val("log in");
          }
        }

        var valPassword = false;
        var passwordsMatch = false;
        function passwordLegitmacy(){
            var x = $("#password1").val();
            var numNums = 0;
            var numLetters = 0;
            var numSpecials = 0;
            for(var i = 0; i < x.length; i++){
                if((x.charAt(i)>= 'a' && x.charAt(i) <= 'z') || (x.charAt(i)>= 'A' && x.charAt(i) <= 'Z')){
                    numLetters++;
                }
                else if((x.charAt(i)>= '0' && x.charAt(i) <= '9')){
                    numNums++;
                }
                else{
                    numSpecials++;
                }
            }
            if(numNums > 0 && numLetters > 0 && numSpecials > 0 && x.length > 7){
                $("#error").css("display", "none");
                valPassword = true;
            }
            else{
                $("#error").css("display", "block");
                $("#error").text("That is not a valid password");
                valPassword = false;
            }
        }

     function matchingPasswords(){
         if($("#password1").val() == $("#password2").val()){
            passwordsMatch = true;
            $("#error2").css("display", "none");
         }
         else{
            $("#error2").css("display", "block");
         }
     }


     function onLoad(){
          $("#logout").click(function(){
            document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            document.cookie = "password=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            document.location.href = "/logout";
          });
          $("#logout").hover(function(){
            $("#logout").css("cursor", "pointer");
          });

          $("#password1").keydown(passwordLegitmacy);
        //   $("#password").focus(matchingPasswords);
        if(valPassword && passwordsMatch){
            $("#dropbtnsub").prop("disabled", false);
        }
        $("#dropbtnsub").click(function(){
            matchingPasswords();
            if(!valPassword){
                $("#error").text("Invalid Password");
                $("#error").css("display", "block");
                return;
            }
            else if(!passwordsMatch){
                $("#error2").css("display", "block");
                return;
            }
            else{
                $("#error").css("display", "none");
                $("#error2").css("display", "none");
            }
            var x = $("#username").val();
            var y = $("#password").val();
            if(passwordsMatch && valPassword){
                $("#myForm").submit();
            }
            
        });
    }

        window.onload = onLoad
    </script>
    <script src="{% static 'scripts/header.js' %}"></script>
    <title>Reset Password</title>
    </head>
    <body>
    <div>
      <nav role="navigation" id = "navbar">
        <div id="menuToggle" style = "width : 20vw; min-width: 50px;">
          <div id = 'box' style = "padding-top: 2vw; margin-left: 2vw; padding-right: 10vw;" onclick="boxClick()">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <input type="checkbox" id = "check"/>
          <ul id="menu" style="font-family: 'Montserrat', sans-serif;">
            <a href="/home"><li class = "menuElements">Home</li></a><br>
            <a href="/knowcollege"><li class = "menuElements">CollegePicker</li></a><br>
            <a href="/knowdegree"><li class = "menuElements">DegreePicker</li></a><br>
            <a href="/knowdevice"><li class = "menuElements">DevicePicker</li></a><br>
             <a href="/knowSupplies"><li class = "menuElements">SuppliesPicker</li></a><br>
          <a href="/buyOrSell"><li class = "menuElements">ProductPicker</li></a><br>            <a href="/resources"><li class = "menuElements"> Resources</li></a><br>
            <a href="/gpaCalculator"><li class = "menuElements"> GPACalculator</li></a><br>
            <a href="/about"><li class = "menuElements">About CollegePlusâ„¢</li></a><br>
            <a href="/logout"><li class = "menuElements">Log out</li></a><br>
          </ul>
  
        </div>
        <div id="logo" onclick="logoClick('{{city}}')">
          <h1 class = 'bigTitle'>
            <m>College</m><m style ="color: tomato">Plus</m>
          </h1>
          <!-- <img src="{% static 'pictures/Lyfe_Here_header.png' %}" class="logo-image center d-inline-block align-middle" style = "min-width: 200px;" alt="Lyfe Here Logo" > -->
        </div>
        <div style = "width : 20vw;">
          <div id="poop" style = "text-align: right;">
            <i class="material-icons" id = "personIcon" onclick="goToSave()">account_circle</i> 
  
          </div>
        </div>
      </nav>
      <div>
        <h1 style = "text-align: center; color : red; display : {{verdict}}; ">
          Wrong passcode
        </h1>
      </div>
      <div id="knowcollege" style="margin-top: 10vh; padding-bottom: 40vh;">
        <h1 id="question" style="font-family: Montserrat, sans-serif; color : black; text-align: center; font-size: 24pt;">Forgot Password?</h1>
            <h2 style="font-weight: 100; color: black; font-size: 18pt; font-family: Montserrat, sans-serif; text-align: center;">Enter your email and we'll send you a password resetting email! </h2><br>
                <form id = "myForm" action = "/ResetPassword" method = "POST" style = "text-align: center;">   
                  {% csrf_token %}   
                    <h3 id = "error" style = "color: red; display : none; font-size: 15pt">This password is not valid</h3>
                    <input type="text" name = "username" id = "username" class="form__input"  placeholder="test@example.com" required="" style="width: 50%; display : none;" value="{{user}}"/>
                    <h3 id = "error2" style = "color : red; display : none; font-size: 15pt">These passwords do not match</h3>
                    <input type="text" name = "password1" id = "password1" class="form__input"  placeholder="xxxxxxxxx" required="" style="width: 50%;"  />              
                    <input name = "passcode" style = "display : none" type = "text" value ="{{name}}" />
                    <input type="text" name = "password2" id = "password2" class="form__input" placeholder="xxxxxxxxx" required="" style="width: 50%;"  />
                    <input type="button" id="dropbtnsub" value = "Submit" style= "margin-top : 10%;"/>
                </form>
      </div>
      <script data-ad-client="ca-pub-2209994521755973" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    </div>
    <footer >
      <div>
        <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-layout="in-article"
        data-ad-format="fluid"
        data-ad-client="ca-pub-2209994521755973"
        data-ad-slot="9243687244"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
      <div style="display: flex; flex-direction: row; padding-bottom: 0%; padding-top: 3%;">
        <div style="width: 40%; text-align: right;">
          <img src= "{% static '/pictures/collegeplus2.png'%}" style="width: 50px; height: 50px; margin-top: 10px; margin-right: 10%;"></img>
        </div>
        <div style="width: 60%; text-align: left;">
          <p style="margin-top: 3.2%;">CollegePlusâ„¢ by Slo-Meg Technologies</p>
        </div>
      </div>

      

      <!-- <p>Contact information: </p>
      <p>CollegePlusâ„¢ Instagram: <a href="https://instagram.com/collegeplusstudents" style="color:#ff6347"> @collegeplusstudents </a></p> 
       <p> Logan Sage's Instagram:<a href="https://instagram.com/logan.sage?igshid=9y9y1s2c6abq" style="color:#ff6347"> @logan.sage   </a><p>  </p><a href="https://instagram.com/logan.sage?igshid=9y9y1s2c6abq"><img src="{% static '/picture/Logan.jpg" style="width: 30px; height:30px;border-radius: 50%;"></img></a></p>
      <p> Lauren-Megan Botha's Instagram: <a href="https://instagram.com/lolygagging_lemur?igshid=uvlgdn5hwelx" style="color:#ff6347"> @laurenmegan.b   </a><p>  </p><a href="https://instagram.com/lolygagging_lemur?igshid=uvlgdn5hwelx"><img src="{% static '/picture/Lauren.jpg" style="width: 30px; height:30px;border-radius: 50%"></img></a></p>
      <p> Seun Suberu's Instagram: <a href="https://www.instagram.com/sensei.seun/" style="color:#ff6347"> @sensei.seun   </a><p>  </p><a href="https://www.instagram.com/sensei.seun/"><img src="{% static '/picture/Seun.jpg" style="width: 30px; height:30px;border-radius: 50%; "></img></a></p> -->
    </footer>
  </body>
</html>
